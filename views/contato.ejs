<%- include('partials/head', { pageCSS: 'sobre-contato' }) %>

<%- include('partials/header', { currentPage: 'contato' }) %>

<!-- Hero Contato -->
<div class="contato-hero">
  <div class="container">
    <div class="hero-content">
      <h1 class="hero-title">Entre em Contato</h1>
      <p class="hero-subtitle">Estamos aqui para transformar seus sonhos de viagem em realidade. Fale conosco!</p>
    </div>
  </div>
</div>

<!-- InformaÃ§Ãµes de Contato -->
<section class="info-contato">
  <div class="container">
    <div class="contato-grid">
      <!-- InformaÃ§Ãµes -->
      <div class="contato-info">
        <h2>ğŸ“ Fale Conosco</h2>
        <p>Nossa equipe estÃ¡ sempre pronta para ajudar vocÃª a planejar a viagem dos seus sonhos.</p>
        
        <div class="info-cards">
          <div class="info-card">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content">
              <h4>EndereÃ§o</h4>
              <p>
                Rua das Palmeiras, 1.234<br>
                Jardim BotÃ¢nico, Rio de Janeiro - RJ<br>
                CEP: 22461-000
              </p>
            </div>
          </div>
          
          <div class="info-card">
            <div class="info-icon">ğŸ“</div>
            <div class="info-content">
              <h4>Telefones</h4>
              <p>
                <strong>Central:</strong> (21) 3333-4444<br>
                <strong>WhatsApp:</strong> (21) 99999-8888<br>
                <strong>EmergÃªncia 24h:</strong> (21) 99999-7777
              </p>
            </div>
          </div>
          
          <div class="info-card">
            <div class="info-icon">ğŸ“§</div>
            <div class="info-content">
              <h4>E-mails</h4>
              <p>
                <strong>Geral:</strong> contato@ecocompanion.com<br>
                <strong>Reservas:</strong> reservas@ecocompanion.com<br>
                <strong>Suporte:</strong> suporte@ecocompanion.com
              </p>
            </div>
          </div>
          
          <div class="info-card">
            <div class="info-icon">â°</div>
            <div class="info-content">
              <h4>HorÃ¡rios</h4>
              <p>
                <strong>Segunda Ã  Sexta:</strong> 8h Ã s 18h<br>
                <strong>SÃ¡bados:</strong> 9h Ã s 15h<br>
                <strong>Domingos:</strong> PlantÃ£o via WhatsApp
              </p>
            </div>
          </div>
        </div>
        
        <!-- Redes Sociais -->
        <div class="redes-sociais">
          <h4>ğŸŒ Siga-nos</h4>
          <div class="social-links">
            <a href="#" class="social-link instagram">
              <span>ğŸ“·</span> Instagram
            </a>
            <a href="#" class="social-link facebook">
              <span>ğŸ“˜</span> Facebook
            </a>
            <a href="#" class="social-link youtube">
              <span>ğŸ“º</span> YouTube
            </a>
            <a href="#" class="social-link linkedin">
              <span>ğŸ’¼</span> LinkedIn
            </a>
          </div>
        </div>
      </div>
      
      <!-- FormulÃ¡rio -->
      <div class="contato-form">
        <div class="form-container">
          <h3>âœ‰ï¸ Envie sua Mensagem</h3>
          <p>Preencha o formulÃ¡rio abaixo e entraremos em contato em atÃ© 2 horas Ãºteis.</p>
          
          <form method="POST" action="/contato" class="form-contato">
            <!-- Tipo de SolicitaÃ§Ã£o -->
            <div class="form-group">
              <label for="tipo" class="form-label">Tipo de SolicitaÃ§Ã£o *</label>
              <select id="tipo" name="tipo" class="form-input" required>
                <option value="">Selecione...</option>
                <option value="orcamento">ğŸ’° Solicitar OrÃ§amento</option>
                <option value="informacao">â„¹ï¸ InformaÃ§Ãµes sobre Destinos</option>
                <option value="reserva">ğŸ“… Fazer Reserva</option>
                <option value="suporte">ğŸ› ï¸ Suporte TÃ©cnico</option>
                <option value="reclamacao">ğŸ˜Ÿ ReclamaÃ§Ã£o</option>
                <option value="elogio">ğŸ˜Š Elogio</option>
                <option value="parceria">ğŸ¤ Parceria Comercial</option>
                <option value="outro">ğŸ“ Outros Assuntos</option>
              </select>
            </div>
            
            <!-- Dados Pessoais -->
            <div class="form-row">
              <div class="form-group">
                <label for="nome" class="form-label">Nome Completo *</label>
                <input type="text" id="nome" name="nome" class="form-input" required>
              </div>
              
              <div class="form-group">
                <label for="email" class="form-label">E-mail *</label>
                <input type="email" id="email" name="email" class="form-input" required>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="telefone" class="form-label">Telefone *</label>
                <input type="tel" id="telefone" name="telefone" class="form-input" required>
              </div>
              
              <div class="form-group">
                <label for="cidade" class="form-label">Cidade</label>
                <input type="text" id="cidade" name="cidade" class="form-input" placeholder="Ex: SÃ£o Paulo - SP">
              </div>
            </div>
            
            <!-- PreferÃªncias de Viagem -->
            <div class="form-group">
              <label for="destino-interesse" class="form-label">Destino de Interesse</label>
              <select id="destino-interesse" name="destinoInteresse" class="form-input">
                <option value="">NÃ£o tenho preferÃªncia</option>
                <option value="rio-janeiro">ğŸ–ï¸ Rio de Janeiro</option>
                <option value="florianopolis">ğŸŒŠ FlorianÃ³polis</option>
                <option value="porto-seguro">ğŸŒ´ Porto Seguro</option>
                <option value="fernando-noronha">ğŸ¢ Fernando de Noronha</option>
                <option value="campos-jordao">ğŸ”ï¸ Campos do JordÃ£o</option>
                <option value="foz-iguacu">ğŸ’¦ Foz do IguaÃ§u</option>
                <option value="personalizado">âœ¨ Destino Personalizado</option>
              </select>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="orcamento" class="form-label">OrÃ§amento Aproximado</label>
                <select id="orcamento" name="orcamento" class="form-input">
                  <option value="">Prefiro nÃ£o informar</option>
                  <option value="ate-2000">AtÃ© R$ 2.000 por pessoa</option>
                  <option value="2000-5000">R$ 2.000 - R$ 5.000 por pessoa</option>
                  <option value="5000-10000">R$ 5.000 - R$ 10.000 por pessoa</option>
                  <option value="10000-25000">R$ 10.000 - R$ 25.000 por pessoa</option>
                  <option value="acima-25000">Acima de R$ 25.000 por pessoa</option>
                  <option value="ultra-luxury">ğŸ’ ExperiÃªncias Ultra Luxury</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="pessoas" class="form-label">NÃºmero de Pessoas</label>
                <input type="number" id="pessoas" name="pessoas" class="form-input" min="1" placeholder="Ex: 2">
              </div>
            </div>
            
            <!-- Mensagem -->
            <div class="form-group">
              <label for="mensagem" class="form-label">Mensagem *</label>
              <textarea id="mensagem" name="mensagem" class="form-textarea" rows="5" 
                        placeholder="Conte-nos sobre seus planos de viagem, dÃºvidas ou necessidades..." required></textarea>
            </div>
            
            <!-- PreferÃªncias de Contato -->
            <div class="form-group">
              <label class="form-label">PreferÃªncia de Contato</label>
              <div class="checkbox-group">
                <label class="checkbox-label">
                  <input type="checkbox" name="preferenciaContato[]" value="email" checked>
                  <span class="checkbox-custom"></span>
                  ğŸ“§ E-mail
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" name="preferenciaContato[]" value="telefone">
                  <span class="checkbox-custom"></span>
                  ğŸ“ Telefone
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" name="preferenciaContato[]" value="whatsapp">
                  <span class="checkbox-custom"></span>
                  ğŸ’¬ WhatsApp
                </label>
              </div>
            </div>
            
            <!-- PolÃ­tica de Privacidade -->
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" name="politica" required>
                <span class="checkbox-custom"></span>
                Concordo com a <a href="#" class="link-politica">PolÃ­tica de Privacidade</a> e autorizo o uso dos meus dados para contato *
              </label>
            </div>
            
            <!-- BotÃ£o de Envio -->
            <button type="submit" class="btn-enviar">
              <span class="btn-text">ğŸ“¨ Enviar Mensagem</span>
              <span class="btn-loader" style="display: none;">â³ Enviando...</span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Mapa e LocalizaÃ§Ã£o -->
<section class="localizacao">
  <div class="container">
    <h2 class="section-title center">ğŸ“ Nossa LocalizaÃ§Ã£o</h2>
    <p class="localizacao-intro">
      Venha nos visitar! Estamos localizados no coraÃ§Ã£o do Rio de Janeiro, 
      em um ambiente aconchegante e inspirador.
    </p>
    
    <div class="mapa-container">
      <div class="mapa-placeholder">
        <div class="mapa-content">
          <h3>ğŸ—ºï¸ Mapa Interativo</h3>
          <p>Rua das Palmeiras, 1.234<br>Jardim BotÃ¢nico, Rio de Janeiro - RJ</p>
          <div class="mapa-buttons">
            <a href="https://maps.google.com/maps?q=Rio+de+Janeiro+Jardim+Botanico" target="_blank" class="btn-mapa">
              ğŸ“ Ver no Google Maps
            </a>
            <a href="https://waze.com/ul?q=Rio+de+Janeiro+Jardim+Botanico" target="_blank" class="btn-mapa">
              ğŸš— Abrir no Waze
            </a>
          </div>
        </div>
      </div>
      
      <div class="transporte-info">
        <h4>ğŸšŒ Como Chegar</h4>
        <div class="transporte-opcoes">
          <div class="transporte-item">
            <strong>ğŸš‡ MetrÃ´:</strong> EstaÃ§Ã£o Jardim BotÃ¢nico (Linha 1) - 5 min caminhando
          </div>
          <div class="transporte-item">
            <strong>ğŸšŒ Ã”nibus:</strong> Linhas 583, 584, 591 - Ponto em frente
          </div>
          <div class="transporte-item">
            <strong>ğŸš• Taxi/Uber:</strong> Ponto de referÃªncia: Jardim BotÃ¢nico
          </div>
          <div class="transporte-item">
            <strong>ğŸš— Carro:</strong> Estacionamento gratuito para clientes
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ RÃ¡pido -->
<section class="faq-contato">
  <div class="container">
    <h2 class="section-title center">â“ Perguntas Frequentes</h2>
    
    <div class="faq-grid">
      <div class="faq-item">
        <h4>â° Quanto tempo para resposta?</h4>
        <p>Respondemos todas as mensagens em atÃ© 2 horas Ãºteis. Para urgÃªncias, use nosso WhatsApp!</p>
      </div>
      
      <div class="faq-item">
        <h4>ğŸ’³ Formas de pagamento?</h4>
        <p>CartÃ£o de crÃ©dito (atÃ© 12x), PIX com desconto, boleto bancÃ¡rio e financiamento prÃ³prio.</p>
      </div>
      
      <div class="faq-item">
        <h4>ğŸ“‹ Preciso de documentos?</h4>
        <p>Para orÃ§amentos, apenas dados bÃ¡sicos. Para reservas, RG, CPF e passaporte se internacional.</p>
      </div>
      
      <div class="faq-item">
        <h4>ğŸ”„ Posso cancelar/alterar?</h4>
        <p>Sim! Temos polÃ­tica flexÃ­vel de cancelamento e alteraÃ§Ãµes conforme condiÃ§Ãµes de cada pacote.</p>
      </div>
    </div>
  </div>
</section>

<!-- CTA Urgente -->
<section class="cta-urgente">
  <div class="container">
    <div class="urgente-content">
      <div class="urgente-icon">ğŸš¨</div>
      <div class="urgente-text">
        <h3>Precisa Falar Urgente?</h3>
        <p>Para emergÃªncias durante viagens ou questÃµes urgentes, entre em contato:</p>
      </div>
      <div class="urgente-contatos">
        <a href="tel:+5521999997777" class="btn-urgente telefone">
          ğŸ“ (21) 99999-7777
        </a>
        <a href="https://wa.me/5521999998888" target="_blank" class="btn-urgente whatsapp">
          ğŸ’¬ WhatsApp 24h
        </a>
      </div>
    </div>
  </div>
</section>

<%- include('partials/footer') %>
<%- include('partials/scripts') %>

<script>
// MÃ¡scaras para os campos
document.getElementById('telefone').addEventListener('input', function(e) {
  let value = e.target.value.replace(/\D/g, '');
  value = value.replace(/(\d{2})(\d)/, '($1) $2');
  value = value.replace(/(\d{5})(\d)/, '$1-$2');
  e.target.value = value;
});

// ValidaÃ§Ã£o do formulÃ¡rio
document.querySelector('.form-contato').addEventListener('submit', function(e) {
  e.preventDefault();
  
  const btnEnviar = document.querySelector('.btn-enviar');
  const btnText = document.querySelector('.btn-text');
  const btnLoader = document.querySelector('.btn-loader');
  
  // Mostrar loading
  btnText.style.display = 'none';
  btnLoader.style.display = 'inline';
  btnEnviar.disabled = true;
  
  // Coletar dados do formulÃ¡rio
  const formData = new FormData(this);
  
  // Enviar via fetch
  fetch('/contato', {
    method: 'POST',
    body: formData
  })
  .then(response => response.json())
  .then(data => {
    if (data.success) {
      // Redirecionar para pÃ¡gina de sucesso
      window.location.href = `/contato/sucesso/${data.protocolo}`;
    } else {
      // Mostrar erro
      alert('Erro: ' + data.message);
      
      // Resetar botÃ£o
      btnText.style.display = 'inline';
      btnLoader.style.display = 'none';
      btnEnviar.disabled = false;
    }
  })
  .catch(error => {
    console.error('Erro ao enviar formulÃ¡rio:', error);
    alert('Erro ao enviar mensagem. Tente novamente.');
    
    // Resetar botÃ£o
    btnText.style.display = 'inline';
    btnLoader.style.display = 'none';
    btnEnviar.disabled = false;
  });
});

// AnimaÃ§Ãµes de entrada
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.style.opacity = '1';
      entry.target.style.transform = 'translateY(0)';
    }
  });
}, observerOptions);

// Aplicar animaÃ§Ãµes
document.querySelectorAll('.info-card, .faq-item').forEach(el => {
  el.style.opacity = '0';
  el.style.transform = 'translateY(20px)';
  el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
  observer.observe(el);
});

// Atualizar formulÃ¡rio baseado no tipo selecionado
document.getElementById('tipo').addEventListener('change', function() {
  const tipo = this.value;
  const orcamentoGroup = document.getElementById('orcamento').closest('.form-group');
  const destinoGroup = document.getElementById('destino-interesse').closest('.form-group');
  const pessoasGroup = document.getElementById('pessoas').closest('.form-group');
  
  if (tipo === 'orcamento' || tipo === 'reserva') {
    orcamentoGroup.style.display = 'block';
    destinoGroup.style.display = 'block';
    pessoasGroup.style.display = 'block';
  } else {
    orcamentoGroup.style.display = 'none';
    destinoGroup.style.display = 'none';
    pessoasGroup.style.display = 'none';
  }
});
</script>